version: '3.7'
services:


  client:
    container_name: client
    image: client
    build:
        dockerfile: Dockerfile
        context: ./client
    ports:
      - '80:3000'
    network_mode: "host"
    stdin_open: true 
    networks: 
            app-net:
                ipv4_address: 172.19.0.2


  server:
    container_name: server
    image: server
    build:
        dockerfile: Dockerfile
        context: ./server
    ports:
      - '5000:5000'
    networks: 
            app-net:
                ipv4_address: 172.19.0.3
  
  
networks:
    app-net:
        ipam:
            driver: default
            config:
            - subnet: "172.19.0.0/24" 


